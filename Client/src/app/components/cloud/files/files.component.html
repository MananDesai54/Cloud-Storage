<h3 class="data-title">Files</h3>
<div class="files">
  <div class="file" *ngFor="let file of files">
    <div class="file-preview">
      <img [src]="file.awsData.url" [alt]="file.name" />
    </div>
    <div class="file-detail">
      <div class="logo" style="margin-right: 1rem">
        <i
          [class]="
            checkFileType(file) ? checkFileType(file) : 'fas fa-file-alt'
          "
        ></i>
      </div>
      <div class="file-data">
        <div class="file-name">{{ file.name }}</div>
        <div
          class="edit"
          style="cursor: pointer"
          (click)="onOpenFileSettings(file); isRename = false"
        >
          <i class="fas fa-ellipsis-v"></i>
        </div>
      </div>
    </div>
  </div>
</div>
<form
  *ngIf="isRename"
  class="folder-form"
  [formGroup]="renameForm"
  (ngSubmit)="onRename()"
>
  <div *ngIf="message">
    <div class="errors-modal">
      <app-message-box [message]="message" [modal]="true"></app-message-box>
    </div>
  </div>
  <label>
    New name
    <input
      type="text"
      [placeholder]="selectedEditFile.name"
      name="name"
      formControlName="name"
      autofocus
    />
  </label>
  <div class="buttons">
    <button
      type="button"
      class="cancel"
      (click)="isRename = false; renameForm.reset()"
    >
      Cancel
    </button>
    <button
      type="submit"
      [disabled]="isLoading || !renameForm.valid"
      class="primary"
    >
      <span *ngIf="!isLoading"> Rename </span>
      <app-loader *ngIf="isLoading"></app-loader>
    </button>
  </div>
</form>

<div class="edit-box" #editOption>
  <div
    class="close-btn"
    style="cursor: pointer"
    (click)="editOption.classList.remove('open')"
  >
    <i class="fas fa-times"></i>
  </div>
  <div class="edit-option">
    <div class="edit-logo">
      <i class="fas fa-user-plus"></i>
    </div>
    <div class="edit-name">Share</div>
  </div>
  <div class="edit-option">
    <div class="edit-logo">
      <i class="fas fa-link"></i>
    </div>
    <div class="edit-name">Get link</div>
  </div>
  <div class="edit-option">
    <div class="edit-logo">
      <i class="fas fa-copy"></i>
    </div>
    <div class="edit-name">Copy to</div>
  </div>
  <div class="edit-option">
    <div class="edit-logo">
      <i class="fas fa-copy"></i>
    </div>
    <div class="edit-name">Move to</div>
  </div>
  <div
    class="edit-option"
    (click)="isRename = true; editOption.classList.remove('open')"
  >
    <div class="edit-logo">
      <i class="fas fa-edit"></i>
    </div>
    <div class="edit-name">Rename</div>
  </div>
  <div class="edit-option">
    <div class="edit-logo">
      <i class="far fa-star"></i>
    </div>
    <div class="edit-name">Add to stared</div>
  </div>
  <div class="edit-option">
    <div class="edit-logo">
      <i class="fas fa-info-circle"></i>
    </div>
    <div class="edit-name">View details</div>
  </div>
  <div class="edit-option">
    <div class="edit-logo">
      <i class="fas fa-download"></i>
    </div>
    <div class="edit-name">Download</div>
  </div>
  <div
    class="edit-option"
    style="color: var(--color-danger)"
    (click)="
      onDeleteFolder(); isRename = false; editOption.classList.remove('open')
    "
  >
    <div class="edit-logo">
      <i class="fas fa-trash"></i>
    </div>
    <div class="edit-name">Delete</div>
  </div>
</div>
